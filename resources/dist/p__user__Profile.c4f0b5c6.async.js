(self.webpackChunkgin_admin_frontend=self.webpackChunkgin_admin_frontend||[]).push([[874],{31184:function(y,c,e){"use strict";var h=e(20034),d=e(16045),P=e(37969),p=e(59496),C=e(74369),f=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],g=p.forwardRef(function(i,T){var l=i.fieldProps,Z=i.unCheckedChildren,o=i.checkedChildren,_=i.proFieldProps,E=(0,P.Z)(i,f);return p.createElement(C.Z,(0,h.Z)({valueType:"switch",mode:"edit",fieldProps:(0,d.Z)({unCheckedChildren:Z,checkedChildren:o},l),ref:T,valuePropName:"checked",proFieldProps:_,filedConfig:{valuePropName:"checked",ignoreWidth:!0}},E))});c.Z=g},46324:function(y,c,e){"use strict";var h=e(20034),d=e(37969),P=e(59496),p=e(74369),C=["fieldProps","proFieldProps"],f=["fieldProps","proFieldProps"],g="text",i=function(o){var _=o.fieldProps,E=o.proFieldProps,D=(0,d.Z)(o,C);return P.createElement(p.Z,(0,h.Z)({mode:"edit",valueType:g,fieldProps:_,filedConfig:{valueType:g},proFieldProps:E},D))},T=function(o){var _=o.fieldProps,E=o.proFieldProps,D=(0,d.Z)(o,f);return P.createElement(p.Z,(0,h.Z)({mode:"edit",valueType:"password",fieldProps:_,proFieldProps:E,filedConfig:{valueType:g}},D))},l=i;l.Password=T,l.displayName="ProFormComponent",c.Z=l},94811:function(y,c,e){"use strict";var h=e(20034),d=e(37969),P=e(59496),p=e(74369),C=["fieldProps","proFieldProps"],f=function(i,T){var l=i.fieldProps,Z=i.proFieldProps,o=(0,d.Z)(i,C);return P.createElement(p.Z,(0,h.Z)({ref:T,mode:"edit",valueType:"textarea",fieldProps:l,proFieldProps:Z},o))};c.Z=P.forwardRef(f)},71904:function(y,c,e){"use strict";e.r(c);var h=e(24078),d=e(13545),P=e(44605),p=e(63757),C=e(93166),f=e(50962),g=e(34092),i=e(65010),T=e(13668),l=e(77151),Z=e(74921),o=e(26688),_=e(78646),E=e(20686),D=e(82005),L=e(34645),F=e(88101),w=e(59496),I=e(85851),x=e(57497),O=e(46324),S=e(94811),$=e(31184),A=e(38837),B=e(89822),s=e(4637),z=function(){var b,W,R,U,r=(0,I.YB)(),K=(0,I.tT)("@@initialState"),t=K.initialState,N=K.setInitialState,j=(0,w.useRef)(),V=function(){var m=(0,D.Z)((0,_.Z)().mark(function u(){var a,M;return(0,_.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t==null||(a=t.fetchInitData)===null||a===void 0?void 0:a.call(t);case 2:if(M=n.sent,!M){n.next=6;break}return n.next=6,N(function(G){return(0,E.Z)((0,E.Z)({},G),M)});case 6:case"end":return n.stop()}},u)}));return function(){return m.apply(this,arguments)}}();return(0,s.jsx)(L.ZP,{title:r.formatMessage({id:"menu.account.settings"}),children:(0,s.jsxs)(d.Z,{tabPosition:"left",defaultActiveKey:"profile",style:{background:"#fff",paddingTop:25,paddingBottom:50},children:[(0,s.jsx)(d.Z.TabPane,{style:{justifyContent:"center"},tab:r.formatMessage({id:"pages.user.profile.tab.basic"}),children:(0,s.jsxs)(x.A,{style:{width:500},layout:"horizontal",labelCol:{span:6},wrapperCol:{span:16},submitter:{searchConfig:{submitText:r.formatMessage({id:"button.save"}),resetText:""},render:function(u,a){return(0,s.jsx)(i.Z,{children:(0,s.jsx)(l.Z,{span:14,offset:6,children:(0,s.jsx)(o.Z,{children:a})})})}},initialValues:t==null?void 0:t.currentUser,onFinish:function(){var m=(0,D.Z)((0,_.Z)().mark(function u(a){return(0,_.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,A.SF)({name:a.name,phone:a.phone,email:a.email,remark:a.remark});case 2:return f.ZP.success(r.formatMessage({id:"component.message.success.save"})),v.next=5,V();case 5:return v.abrupt("return",!0);case 6:case"end":return v.stop()}},u)}));return function(u){return m.apply(this,arguments)}}(),children:[(0,s.jsx)(O.Z,{name:"username",label:r.formatMessage({id:"pages.system.user.form.username"}),disabled:!0}),(t==null||(b=t.currentUser)===null||b===void 0||(W=b.roles)===null||W===void 0?void 0:W.length)===0&&(0,s.jsx)(l.Z,{span:24,children:(0,s.jsx)(F.Z,{label:r.formatMessage({id:"pages.system.user.form.roles"}),children:(0,s.jsx)(o.Z,{wrap:!0,children:t==null||(R=t.currentUser)===null||R===void 0||(U=R.roles)===null||U===void 0?void 0:U.map(function(m){return(0,s.jsx)(p.Z,{color:"processing",children:m.role_name},m.id)})})})}),(0,s.jsx)(O.Z,{name:"name",label:r.formatMessage({id:"pages.system.user.form.name"})}),(0,s.jsx)(O.Z,{name:"email",label:r.formatMessage({id:"pages.system.user.form.email"}),placeholder:r.formatMessage({id:"pages.system.user.form.email.placeholder"})}),(0,s.jsx)(O.Z,{name:"phone",label:r.formatMessage({id:"pages.system.user.form.phone"}),placeholder:r.formatMessage({id:"pages.system.user.form.phone.placeholder"})}),(0,s.jsx)(S.Z,{name:"remark",label:r.formatMessage({id:"pages.system.user.form.remark"}),fieldProps:{rows:2}}),(0,s.jsx)($.Z,{name:"statusChecked",label:r.formatMessage({id:"pages.system.user.form.status"}),fieldProps:{checkedChildren:r.formatMessage({id:"pages.system.user.form.status.activated"}),unCheckedChildren:r.formatMessage({id:"pages.system.user.form.status.freezed"})},disabled:!0})]})},"basic"),(0,s.jsx)(d.Z.TabPane,{style:{justifyContent:"center"},tab:r.formatMessage({id:"pages.user.profile.tab.security"}),children:(0,s.jsxs)(x.A,{formRef:j,style:{width:500},layout:"horizontal",labelCol:{span:8},wrapperCol:{span:16},submitter:{searchConfig:{submitText:r.formatMessage({id:"button.confirm"}),resetText:""},render:function(u,a){return(0,s.jsx)(i.Z,{children:(0,s.jsx)(l.Z,{span:14,offset:6,children:(0,s.jsx)(o.Z,{children:a})})})}},initialValues:t==null?void 0:t.currentUser,onFinish:function(){var m=(0,D.Z)((0,_.Z)().mark(function u(a){var M;return(0,_.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a.new_password===a.confirm_password){n.next=3;break}return f.ZP.error(r.formatMessage({id:"pages.user.profile.tab.security.form.confirm_password.validator"})),n.abrupt("return",!1);case 3:return n.next=5,(0,A.kl)({old_password:B.Z.md5(a.old_password),new_password:B.Z.md5(a.new_password)});case 5:return f.ZP.success(r.formatMessage({id:"component.message.success.save"})),(M=j.current)===null||M===void 0||M.resetFields(),n.abrupt("return",!0);case 8:case"end":return n.stop()}},u)}));return function(u){return m.apply(this,arguments)}}(),children:[(0,s.jsx)(O.Z.Password,{name:"old_password",label:r.formatMessage({id:"pages.user.profile.tab.security.form.old_password"}),placeholder:r.formatMessage({id:"pages.user.profile.tab.security.form.old_password.placeholder"}),rules:[{required:!0,message:r.formatMessage({id:"pages.user.profile.tab.security.form.old_password.required"})}]}),(0,s.jsx)(O.Z.Password,{name:"new_password",label:r.formatMessage({id:"pages.user.profile.tab.security.form.password"}),placeholder:r.formatMessage({id:"pages.user.profile.tab.security.form.password.placeholder"}),rules:[{required:!0,message:r.formatMessage({id:"pages.user.profile.tab.security.form.password.required"})}]}),(0,s.jsx)(O.Z.Password,{name:"confirm_password",label:r.formatMessage({id:"pages.user.profile.tab.security.form.confirm_password"}),placeholder:r.formatMessage({id:"pages.user.profile.tab.security.form.confirm_password.placeholder"}),rules:[{required:!0,message:r.formatMessage({id:"pages.user.profile.tab.security.form.confirm_password.required"})}]})]})},"security")]})})};c.default=z}}]);
